---
title: åƒåœ¾ä»£ç ç¼–å†™æŒ‡å—_Cè¯­è¨€ç‰ˆ
date: 2025-03-10 17:23:00
tags: å…¶ä»–
---
## å‰è¨€

ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼Œé€šå¸¸éƒ½éœ€è¦è·Ÿåˆ«äººåä½œç¼–å†™ä»£ç ã€‚https://github.com/trekhleb/state-of-the-art-shitcode æ˜¯ä¸€ä¸ªæ•™ä½ å¦‚ä½•ç¼–å†™ ğŸ’© ä»£ç çš„æ•™ç¨‹ï¼Œä½†æ˜¯è¿™ä¸ªæ•™ç¨‹çš„ä»£ç ç¤ºä¾‹æ˜¯ç”¨ JavaScript ç¼–å†™çš„ï¼Œåœ¨æœ¬æ–‡æˆ‘å°†å…¶è½¬æˆäº†ç»å…¸çš„Cè¯­è¨€ï¼Œå¹¶ä¸”å°†ä¸€äº›è¯­è¨€é£æ ¼å†™æˆç¬¦åˆä¸­å›½ç¨‹åºå‘˜çš„ç¼–ç ä¹ æƒ¯

## ä»£ç ç¼–å†™åŸåˆ™

### ğŸ’© å®šä¹‰å˜é‡çš„æ—¶å€™ï¼Œå°½å¯èƒ½ç”¨æ··æ·†çš„æ–¹å¼

å˜é‡å‘½åçš„æ—¶å€™å°½å¯èƒ½å†™çŸ­ï¼Œèƒ½èŠ‚çœæ•²ä»£ç çš„æ—¶é—´

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
int a = 42;
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
int age = 42;
```

### ğŸ’© é‡‡ç”¨å˜é‡/å‡½æ•°çš„æ··åˆå‘½åé£æ ¼

å‘½åé£æ ¼è¦é‡‡å–å¤šæ ·åŒ–ï¼Œå½°æ˜¾ä¸ªäººé­…åŠ›

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
int wWidth = 640;
int w_height = 480;
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
int windowWidth = 640;
int windowHeight = 480;
```

### ğŸ’© æ°¸è¿œä¸è¦å†™æ³¨é‡Š

ç¨‹åºå‘˜æœ€è®¨åŒçš„ä¸¤ä»¶äº‹æ˜¯ï¼š

1. åˆ«äººçš„ä»£ç ä¸å†™æ³¨é‡Š
2. åˆ«äººè®©è‡ªå·±ç»™ä»£ç å†™æ³¨é‡Š

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
const int cdr = 700;
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

æ³¨é‡Šåº”è¯¥åŒ…å«ä¸€äº›"ä¸ºä»€ä¹ˆ"è€Œä¸æ˜¯"åšäº†ä»€ä¹ˆ"ã€‚å¦‚æœä»£ç ä¸­çš„"åšäº†ä»€ä¹ˆ"ä¸æ¸…æ¥šï¼Œé‚£ä¹ˆä»£ç å¯èƒ½å¤ªæ··ä¹±äº†ã€‚

```c
// 700msçš„æ•°é‡æ˜¯æ ¹æ®UX A/Bæµ‹è¯•ç»“æœè¿›è¡Œç»éªŒè®¡ç®—çš„ã€‚
// @æŸ¥çœ‹: <è¯¦ç»†è§£é‡Š700çš„ä¸€ä¸ªé“¾æ¥>
const int callbackDebounceRate = 700;
```

### ğŸ’© å°½é‡ç”¨æ¯è¯­å†™æ³¨é‡Š

ä¸­å›½äººå†™æ³¨é‡Šå½“ç„¶è¦ç”¨ä¸­æ–‡ï¼Œæ€ä¹ˆå¯èƒ½ç”¨è‹±è¯­è¿™ç§é€šç”¨è¯­è¨€ï¼Œå½“ç„¶æ˜¯æ€ä¹ˆçˆ½æ€ä¹ˆæ¥

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
// é”™è¯¯æ—¶éšè—æ¨¡æ€çª—å£ã€‚
closeModal(0);
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
// Hide modal window on error.
closeModal(0);
```

### ğŸ’© å°½å¯èƒ½æ··åˆå„ç§æ ¼å¼é£æ ¼

è·Ÿä¸Šè¿°å˜é‡å‘½åçš„åŸåˆ™ä¸€æ ·ï¼Œä¿æŒä¸ªæ€§åŒ–~

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
char* i[] = {"tomato", "onion", "mushrooms"};
char* d[] = { "ketchup", "mayonnaise" };
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
char* ingredients[] = {"tomato", "onion", "mushrooms"};
char* dressings[] = {"ketchup", "mayonnaise"};
```

### ğŸ’© æŠŠä»£ç éƒ½å†™åˆ°ä¸€è¡Œ

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
void parse_url_params(char* url, char* params) { char* p=strstr(url,"?");if(!p)return;p++;char* token=strtok(p,"&");while(token!=NULL){char* eq=strchr(token,'=');if(eq){*eq='\0';strcat(params,token);strcat(params,"=");strcat(params,eq+1);strcat(params,";");}token=strtok(NULL,"&");}}
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
void parse_url_params(char* url, char* params) {
    // Find the '?' character
    char* p = strstr(url, "?");
    if (!p) return;
  
    // Skip the '?' character
    p++;
  
    // Parse each parameter
    char* token = strtok(p, "&");
    while (token != NULL) {
        char* eq = strchr(token, '=');
        if (eq) {
            // Separate key and value
            *eq = '\0';
            strcat(params, token);
            strcat(params, "=");
            strcat(params, eq + 1);
            strcat(params, ";");
        }
        token = strtok(NULL, "&");
    }
}
```

### ğŸ’© ä¸è¦åšå¼‚å¸¸å¤„ç†

ç¨‹åºä¸­ä»»ä½•å¯èƒ½å‡ºç°å¼‚å¸¸çš„ä»£ç ç‰‡æ®µï¼Œæ²¡å¿…è¦å»æ•æ‰ï¼Œä¹Ÿä¸è¦å†™æ—¥å¿—è¿›è¡Œè®°å½•ï¼Œæ›´ä¸è¦å¼¹å‡ºå•¥é”™è¯¯æç¤ºï¼Œè®©ä½ çš„åä½œè€…è‡ªå·±çŒœå¯èƒ½çš„æŠ¥é”™åŸå› å°±å¥½äº†

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
FILE* file = fopen("important.dat", "r");
if (file == NULL) {
    // tss... ğŸ¤«
}
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
FILE* file = fopen("important.dat", "r");
if (file == NULL) {
    perror("Error opening file");
    // and/or
    log_error("Failed to open important.dat");
}
```

### ğŸ’© å¤§é‡ä½¿ç”¨å…¨å±€å˜é‡

å•è’™è¿‡æ±Ÿï¼Œæˆ‘ä¹Ÿè¿‡æ±Ÿï¼Œåˆ«çš„å‡½æ•°èƒ½ä½¿ç”¨çš„å˜é‡ï¼Œæˆ‘ä¸ºä»€ä¹ˆä¸èƒ½è®¿é—®åˆ°ï¼Ÿæ‰€ä»¥è¦å¤šä½¿ç”¨å…¨å±€å˜é‡

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
int x = 5;

void square() {
    x = x * x;
}

int main() {
    square(); // Now x is 25.
    return 0;
}
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
int x = 5;

int square(int num) {
    return num * num;
}

int main() {
    x = square(x); // Now x is 25.
    return 0;
}
```

### ğŸ’© å¤šåˆ›å»ºä¸€äº›ç”¨ä¸åˆ°çš„å˜é‡

ä»¥å¤‡ä¸æ—¶ä¹‹éœ€ã€‚

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
int sum(int a, int b, int c) {
    const int timeout = 1300;
    const int result = a + b;
    return a + b;
}
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
int sum(int a, int b) {
    return a + b;
}
```

### ğŸ’© å¦‚æœä½ çš„ç¼–ç¨‹è¯­è¨€å…è®¸ï¼Œä¸è¦æŒ‡å®šç±»å‹å’Œ/æˆ–ä¸åšç±»å‹æ£€æŸ¥

ä»£ç è·‘çš„æ€æ ·ä½ åˆ«ç®¡ï¼Œä½ å°±è¯´èƒ½ä¸èƒ½è·‘å§

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
void* sum(void* a, void* b) {
    // ä¸åšç±»å‹æ£€æŸ¥ï¼Œç›´æ¥è½¬æ¢å¹¶å¸Œæœ›ä¸€åˆ‡é¡ºåˆ©
    return (void*)((long)a + (long)b);
}
    // åœ¨è¿™é‡Œå°½æƒ…äº«å—æ— æ‹˜æ— æŸçš„ä¹è¶£
int main() {
    char* result1 = sum("hello", "world");  // æœªå®šä¹‰è¡Œä¸º
    int result2 = (int)sum((void*)5, (void*)10);  // å¯èƒ½è¡Œå¾—é€šï¼Ÿ
    return 0;
}
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
int sum(int a, int b) {
    return a + b;
}

int main() {
    int result = sum(5, 10);  // ç±»å‹å®‰å…¨ï¼Œæ„å›¾æ˜ç¡®
    return 0;
}
```

### ğŸ’© ä½ éœ€è¦æœ‰ä¸€æ®µæ°¸è¿œæ— æ³•æ‰§è¡Œåˆ°çš„ä»£ç 

æ²¡æƒ³åˆ°å§ jojo è¿™å°±æ˜¯æˆ‘çš„é€ƒè·‘è·¯çº¿ï¼

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
int square(int num) {
    if (num == 0) {
        return 0;
    }
    else {
        return num * num;
    }
    return -1; // è¿™å°±æ˜¯æˆ‘çš„é€ƒè·‘è·¯çº¿å“’ï¼å“ˆå“ˆå“ˆ
}
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
int square(int num) {
    if (num == 0) {
        return 0;
    }
    return num * num;
}
```

### ğŸ’© ä¸‰è§’å½¢åŸåˆ™

åƒé¸Ÿä¸€æ ·ç­‘å·¢ï¼Œä¸€å±‚åˆä¸€å±‚ã€‚

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
void someFunction() {
    if (condition1) {
        if (condition2) {
            beginAsyncOperation(params, callback);
            if (callbackCalled) {
                if (result) {
                    for (;;) {
                        if (condition3) {
                            // ä»£ç é€»è¾‘
                        }
                    }
                }
            }
        }
    }
}
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
void someFunction() {
    if (!condition1 || !condition2) {
        return;
    }
  
    beginAsyncOperation(params, callback);
    if (!callbackCalled || !result) {
        return;
    }
  
    for (;;) {
        if (condition3) {
             // ä»£ç é€»è¾‘
        }
    }
}
```

### ğŸ’© æä¹±ç¼©è¿›

é¿å…ä½¿ç”¨ç¼©è¿›ï¼Œå› ä¸ºå®ƒä»¬ä¼šä½¿å¤æ‚çš„ä»£ç åœ¨ç¼–è¾‘å™¨ä¸­å ç”¨æ›´å¤šç©ºé—´ã€‚å¦‚æœä½ ä¸æƒ³é¿å…å®ƒä»¬ï¼Œé‚£å°±æŠŠå®ƒä»¬å¼„ä¹±ã€‚

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
const char* fruits[] = {"apple",
"orange", "grape", "pineapple"};
    const char* toppings[] = {"syrup", "cream", 
                "jam", 
                "chocolate"};
char desserts[100][100];
int i = 0;
for (int f = 0; f < 4; f++) {
for (int t = 0; t < 4; t++) {
    sprintf(desserts[i], "%s with %s",
fruits[f],toppings[t]);
    i++;}}
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
const char* fruits[] = {"apple", "orange", "grape", "pineapple"};
const char* toppings[] = {"syrup", "cream", "jam", "chocolate"};
char desserts[100][100];
int i = 0;

for (int f = 0; f < 4; f++) {
    for (int t = 0; t < 4; t++) {
        sprintf(desserts[i], "%s with %s", fruits[f], toppings[t]);
        i++;
    }
}
```

### ğŸ’© æ€»æ˜¯å°†ä½ çš„é€»è¾‘åˆ¤æ–­çš„å˜é‡å‘½åä¸º `flag`

å¸ƒå°”å˜é‡ç»Ÿä¸€å‘½åä¸º `flag` ,å¦‚æœæœ‰å¤šä¸ªé€»è¾‘å˜é‡ï¼Œé‚£å°±å®šä¹‰æˆ `flag+æ•°å­—`ï¼Œä»¥æ­¤ç±»æ¨
è‡³äºè¿™ä¸ªé€»è¾‘å˜é‡åˆ°åº•æ˜¯åˆ¤æ–­å•¥é€»è¾‘çš„ï¼Œä½ åˆ«ç®¡ï¼Œè®©ä½ çš„åä½œè€…çŒœå°±å¥½äº†

æ­£ç¡®åšæ³• ğŸ‘ğŸ»

```c
bool flag = 1;
```

é”™è¯¯åšæ³• ğŸ‘ğŸ»

```c
bool isDone = 0;
bool isEmpty = 0;
```

### ğŸ’© é•¿å‡½æ•°æ¯”çŸ­å‡½æ•°æ›´å¥½

ä¸è¦å°†ç¨‹åºé€»è¾‘åˆ†å‰²æˆå¯è¯»çš„ç‰‡æ®µã€‚å¦‚æœä½ çš„IDEæœç´¢åŠŸèƒ½å‡ºæ•…éšœï¼Œä½ å°†æ— æ³•æ‰¾åˆ°å¿…è¦çš„æ–‡ä»¶æˆ–å‡½æ•°ï¼Œé‚£è¯¥æ€ä¹ˆåŠï¼Ÿ

- 10000 è¡Œä»£ç åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­æ˜¯å¯ä»¥çš„ã€‚
- 1000 è¡Œçš„å‡½æ•°ä½“æ˜¯å¯ä»¥çš„ã€‚
- åœ¨ä¸€ä¸ª `service.c` ä¸­å¤„ç†è®¸å¤šæœåŠ¡ï¼ˆç¬¬ä¸‰æ–¹å’Œå†…éƒ¨çš„ï¼Œè¿˜æœ‰ä¸€äº›è¾…åŠ©å·¥å…·ã€æ‰‹å†™çš„æ•°æ®åº“ORMå’Œå¥—æ¥å­—å®ç°ï¼‰ï¼Ÿæ²¡é—®é¢˜ã€‚

### ğŸ’© é¿å…ç”¨æµ‹è¯•è¦†ç›–ä½ çš„ä»£ç 

è¿™æ˜¯é‡å¤å’Œä¸å¿…è¦çš„å·¥ä½œé‡ã€‚ä»£ç èƒ½è·‘å°±è¡Œäº†ï¼Œè¿˜æµ‹è¯•å•¥

### ğŸ’© å°½å¯èƒ½é¿å…ä½¿ç”¨ä»£ç æ£€æŸ¥å·¥å…·

æŒ‰ç…§ä½ æƒ³è¦çš„æ–¹å¼ç¼–å†™ä»£ç ï¼Œå°¤å…¶æ˜¯å½“å›¢é˜Ÿä¸­æœ‰å¤šä¸ªå¼€å‘äººå‘˜æ—¶ã€‚è¿™æ˜¯ä¸€ç§"è‡ªç”±"åŸåˆ™ã€‚

### ğŸ’© åœ¨æ²¡æœ‰ README æ–‡ä»¶çš„æƒ…å†µä¸‹å¼€å§‹ä½ çš„é¡¹ç›®

å†™å•¥è¯´æ˜æ–‡æ¡£å•Šï¼Œè®©ç”¨æˆ·è‡ªå·±æ‘¸ç´¢å°±å¥½äº†

### ğŸ’© ä»£ç å†—ä½™æ˜¯æœ‰å¿…è¦çš„

ä¸è¦åˆ é™¤ä½ çš„ç¨‹åºæ²¡æœ‰ä½¿ç”¨çš„ä»£ç ã€‚æœ€å¤šï¼Œæ³¨é‡Šæ‰å®ƒã€‚
